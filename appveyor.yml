build: false
environment:
  matrix:
    - PYTHON: "C:/Python36-x64"

init:
  - "ECHO %PYTHON%"
  - ps: "ls C:/Python*"

install:
  - ps: (new-object net.webclient).DownloadFile('https://bootstrap.pypa.io/get-pip.py', 'C:/get-pip.py')
  - "%PYTHON%/python.exe C:/get-pip.py"
  - "%PYTHON%/Scripts/pip.exe --version"
  - "%PYTHON%/Scripts/pip.exe install -r requirements/requirements.txt"
  - "%PYTHON%/Scripts/pip.exe install -r requirements/build_requirements.txt"

test_script:
  - "echo a"

notifications:
  - provider: Slack
    auth_token:
      secure: JyTQAtBzpPYiWK3eRTz/U+rvmAKopqIWE19ti4vSL/IRygV3jUVUkwET1VyTlrqOeYfNx3Kfcp7eUmHCHxFCgw==
    channel: notifications

before_deploy:
  - "packaging.bat"

deploy:
  release: myproduct-v$(appveyor_build_version)
  description: 'Release description'
  provider: GitHub
  auth_token:
    secure: KMCOwxbBbEdh8vQl6sikAK+11xN3Zh5mHUyIbcD/nQK9rJlMXXBQ5vrhbr/Ybe8/JAUI1IX33PzUM4dK0oycdnvuKD10i2knV7pJHUEf+ykoijNE7RV/6hh068Cda4l86z74H3r8DfvxbgcpwtwwyHbWQa/j0s5jKg/sPcWv39m8F8t77pEJOvvjhCmoPTdtKUZg/HcXJmYLPXsvZjfNh6SncN2CtJ8o1CmUCh+BMpMBCdt8N3YOzdQEsDTQEk+CnrAuizSn33g3RBt8VrlN+HSOoK7sqba8nnLDhz5AO0qi2HeZOMr71JXInEEFOnjpdkhQaT+oRlPtIEVg8EU7m9FBuNAzkcDJF/1rFKWmczaGD1B+BEqBgnLl+0pN2EApD0QodIXOWg81+qgVOh8besdCwJ+d2NOpBKqR94jrr8SY18JCei49iqsJuaRWrWcrnl1MaGqfj1BFVLqAmTxB4ajizFEfAap/T3Nxs+AvPpP0r9vGx24W5MpsPrdmU8zZlgIlnl35pMhN/PP6OBjoS0yFWZSjASTuCANE9pxIeXlhciVaWUJ1Urmi5/q+tWNUJnXN9hoOz8ZJihgvf91vrTq63VA8NCYVxcABbY94aZY78p4CeiP9oCGQWBhzXszQzOBme8eC5nNna8NuCASvUp8RByc6pprcpZWMx7aMDKc=
  artifact: dist/sqlitebiter_win_x64.zip
  draft: false
  prerelease: false
  on:
    branch: master                 # release from master branch only
    appveyor_repo_tag: false        # deploy on tag push only
